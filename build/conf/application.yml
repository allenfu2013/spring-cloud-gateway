
server.port: 80

mdx:
  check-url: /api/system/health
  check-project:
  load_url: /api/system/load
  serverSize: 50
  cacheTime: 600
  weight:
    memory: 0.5
    query: 0.5
    threshold: 0.9
  rest-template:
    connect-timeout: 1500
    read-timeout: 5000
  ping-strategy:
    retry-times: 3
    interval-seconds: 3
  proxy:
    - mdx-ke4:
      type: mdx
      host: test.com
      servers:
        - 127.0.0.1:7080
        - 127.0.0.1:7081

spring:
  application:
    name: kylin-gateway
  jmx:
    enabled: false
  cloud:
    gateway:
      loadbalancer:
        use404: false
        queryRouteDefault: true
      httpclient:
        connectTimeout: 15000
        responseTimeout: 480000

logging:
  level:
    org.springframework.cloud.gateway: INFO
    org.springframework.http.server.reactive: INFO
    org.springframework.web.reactive: INFO
    reactor.ipc.netty: INFO
    reactor.netty: INFO

server:
  type: mdx
  datasource: config
  tomcat:
    basedir: ./
    accesslog:
      enabled: true
      buffered: true
      directory: logs
      file-date-format: .yyyy-MM-dd
      pattern: '%{yyyy-MM-dd HH:mm:ss,SSS}t %h %l %u "%r" %s %b %D'
      rotate: true
      rename-on-rotate: false
      prefix: access_log
      suffix: .log

management.endpoints.web.exposure.include: health, gateway
